---
import BaseLayout from "../../layouts/BaseLayout.astro";
import HorizontalProjectItem from "../../components/HorizontalProjectItem.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths({ paginate }) {
  const items = await getCollection("project");
  items.sort((a, b) => b.data.updatedDate.valueOf() - a.data.updatedDate.valueOf());
  return paginate(items, { pageSize: 10 });
}
const { page } = Astro.props;
const allPosts = await Astro.glob('../posts/*.md')
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())]
const pageTitle = 'Tag Index'
---

<BaseLayout pageTitle={pageTitle}>
  <div class='tags'>
    {
      tags.map((tag) => (
        <p class='tag'>
          <a href={`/tags/${tag}`}>{tag}</a>
        </p>
      ))
    }
  </div>
</BaseLayout>